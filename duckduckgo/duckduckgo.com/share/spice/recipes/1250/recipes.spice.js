!function(){var e=Handlebars.template,a=DDH.recipes=DDH.recipes||{};a.recipes_flavors=e(function(e,a,i,n,s){function l(e,a){var n,s="";return s+='\n	<div class="recipe__flavors">\n		<ul>\n			',n=i.each.call(e,e&&e.flavors,{hash:{},inverse:o.noop,fn:o.program(2,r,a),data:a}),(n||0===n)&&(s+=n),s+="\n		</ul>\n	</div>\n"}function r(e,a){var n,s,l="";return l+='\n				<li>\n					<a class="recipe__flavors__name" href="',(s=i.url)?n=s.call(e,{hash:{},data:a}):(s=e&&e.url,n=typeof s===p?s.call(e,{hash:{},data:a}):s),l+=h(n)+'">',(s=i.name)?n=s.call(e,{hash:{},data:a}):(s=e&&e.name,n=typeof s===p?s.call(e,{hash:{},data:a}):s),l+=h(n)+'</a>\n					<div class="recipe__flavors__strength">\n						<span class="bg-clr--red" style="width:',(s=i.strength)?n=s.call(e,{hash:{},data:a}):(s=e&&e.strength,n=typeof s===p?s.call(e,{hash:{},data:a}):s),l+=h(n)+'%;"></span>\n					</div>\n				</li>\n			'}function c(){return"\n	&nbsp;\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var t,p="function",h=this.escapeExpression,o=this;return t=i["if"].call(a,a&&a.flavors,{hash:{},inverse:o.program(4,c,s),fn:o.program(1,l,s),data:s}),t||0===t?t:""}),a.recipes_ingredients=e(function(e,a,i,n,s){function l(e,a){var n,s="";return s+='\n	<div class="recipe__ingredients">\n		Ingredients: \n		<ul>\n			',n=i.each.call(e,e&&e.ingredientDetails,{hash:{},inverse:o.noop,fn:o.program(2,r,a),data:a}),(n||0===n)&&(s+=n),s+="\n		</ul>\n	</div>\n"}function r(e,a){var n,s,l="";return l+='\n				<li><a href="',(s=i.url)?n=s.call(e,{hash:{},data:a}):(s=e&&e.url,n=typeof s===p?s.call(e,{hash:{},data:a}):s),l+=h(n)+'">',(s=i.displayName)?n=s.call(e,{hash:{},data:a}):(s=e&&e.displayName,n=typeof s===p?s.call(e,{hash:{},data:a}):s),l+=h(n)+"</a></li>\n			"}function c(){return"\n	&nbsp;\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var t,p="function",h=this.escapeExpression,o=this;return t=i["if"].call(a,a&&a.ingredientDetails,{hash:{},inverse:o.program(4,c,s),fn:o.program(1,l,s),data:s}),t||0===t?t:""}),a.recipes_item_detail=e(function(e,a,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var l,r,c,t="",p=i.helperMissing,h=this.escapeExpression,o="function";return t+='<div class="detail__inner">\n    <div class="detail__media  detail__media--recipe">\n        <img src="'+h((r=i.imageProxy||a&&a.imageProxy,c={hash:{},data:s},r?r.call(a,a&&a.image,c):p.call(a,"imageProxy",a&&a.image,c)))+'" alt="',(r=i.recipeName)?l=r.call(a,{hash:{},data:s}):(r=a&&a.recipeName,l=typeof r===o?r.call(a,{hash:{},data:s}):r),t+=h(l)+'" class="detail__media__img" />\n    </div>\n    <div class="detail__body  detail__body--recipe">\n        <div class="detail__body__content  recipe  c-detail">\n            <h5 class="c-detail__title  recipe__title"><a href=\'',(r=i.url)?l=r.call(a,{hash:{},data:s}):(r=a&&a.url,l=typeof r===o?r.call(a,{hash:{},data:s}):r),t+=h(l)+"' title=\"",(r=i.title)?l=r.call(a,{hash:{},data:s}):(r=a&&a.title,l=typeof r===o?r.call(a,{hash:{},data:s}):r),t+=h(l)+'">',(r=i.recipeName)?l=r.call(a,{hash:{},data:s}):(r=a&&a.recipeName,l=typeof r===o?r.call(a,{hash:{},data:s}):r),t+=h(l)+'</a></h5>\n            <div class="c-detail__desc">\n                <p class="c-detail__source  recipe__subtitle">\n                    ',r=i.include||a&&a.include,c={hash:{},data:s},l=r?r.call(a,"DDH.recipes.recipes_subtitle",c):p.call(a,"include","DDH.recipes.recipes_subtitle",c),(l||0===l)&&(t+=l),t+='\n                </p>\n                <div class="recipe__content">\n                    ',r=i.include||a&&a.include,c={hash:{},data:s},l=r?r.call(a,"DDH.recipes.recipes_ingredients",c):p.call(a,"include","DDH.recipes.recipes_ingredients",c),(l||0===l)&&(t+=l),t+="\n                    ",r=i.include||a&&a.include,c={hash:{},data:s},l=r?r.call(a,"DDH.recipes.recipes_flavors",c):p.call(a,"include","DDH.recipes.recipes_flavors",c),(l||0===l)&&(t+=l),t+="\n                </div>\n                ",r=i.include||a&&a.include,c={hash:{},data:s},l=r?r.call(a,"DDH.recipes.recipes_view_full",c):p.call(a,"include","DDH.recipes.recipes_view_full",c),(l||0===l)&&(t+=l),t+="\n            </div>\n        </div>\n    </div>\n</div>\n"}),a.recipes_subtitle=e(function(e,a,i,n,s){function l(e){var a="";return a+='\n	<span class="sep"></span>\n	<span class="recipe__cuisine">Cuisine: '+d(typeof e===o?e.apply(e):e)+"</span>\n"}function r(e){var a="";return a+='\n	<span class="sep"></span>\n	<span class="recipe__cooking-time"><span>Cooking </span>Time: '+d(typeof e===o?e.apply(e):e)+" minutes</span>\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var c,t,p,h="",o="function",d=this.escapeExpression,u=i.helperMissing,f=this,_=i.blockHelperMissing;return(t=i.sourceDisplayName)?c=t.call(a,{hash:{},data:s}):(t=a&&a.sourceDisplayName,c=typeof t===o?t.call(a,{hash:{},data:s}):t),h+=d(c)+"\n",t=i.starRating||a&&a.starRating,p={hash:{},data:s},c=t?t.call(a,a&&a.rating,p):u.call(a,"starRating",a&&a.rating,p),(c||0===c)&&(h+=c),h+="\n",p={hash:{},inverse:f.noop,fn:f.program(1,l,s),data:s},(t=i.cuisine)?c=t.call(a,p):(t=a&&a.cuisine,c=typeof t===o?t.call(a,p):t),i.cuisine||(c=_.call(a,c,{hash:{},inverse:f.noop,fn:f.program(1,l,s),data:s})),(c||0===c)&&(h+=c),h+="\n",p={hash:{},inverse:f.noop,fn:f.program(3,r,s),data:s},(t=i.cookingTime)?c=t.call(a,p):(t=a&&a.cookingTime,c=typeof t===o?t.call(a,p):t),i.cookingTime||(c=_.call(a,c,{hash:{},inverse:f.noop,fn:f.program(3,r,s),data:s})),(c||0===c)&&(h+=c),h}),a.recipes_view_full=e(function(e,a,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var l,r,c="",t="function",p=this.escapeExpression;return c+='<a href="',(r=i.url)?l=r.call(a,{hash:{},data:s}):(r=a&&a.url,l=typeof r===t?r.call(a,{hash:{},data:s}):r),c+=p(l)+'" class="btn view-btn--recipes">\n	<img class="btn__icon" src="'+p((l=a&&a.meta,l=null==l||l===!1?l:l.sourceIconUrl,typeof l===t?l.apply(a):l))+'" />\n	View Full Recipe\n</a>'})}();(function(env){"use strict";env.ddg_spice_recipes=function(res){if(!res){return Spice.failed("recipes")}var query=DDG.get_query(),query_encoded=DDG.get_query_encoded();var normalize=function(item){if(!item.imageUrlsBySize){return null}var m={};m.title=m.heading=item.recipeName.replace(/ recipe/i,"");m.url="http://www.yummly.com/recipe/"+item.id+"?prm-v1";m.image=m.img=item.imageUrlsBySize["250"];m.ratingText=item.sourceDisplayName;m.cuisine=item.attributes&&item.attributes.cuisine&&item.attributes.cuisine[0];if(item.totalTimeInSeconds){m.cookingTime=item.totalTimeInSeconds/60}if(item.ingredients&&item.ingredients.length){var searchTermContainsRecipe=rq.match(/recipe/i),len=item.ingredients.length;m.ingredientString=item.ingredients.join(", ");m.ingredientDetails=item.ingredients.map(function(ingredient,i){var refinedTerm=searchTermContainsRecipe?query.replace(/ recipe/i," "+ingredient+" recipe"):query+" "+ingredient,displayName=ingredient;if(i!==len-1){displayName+=", "}return{name:ingredient,displayName:displayName,url:"?q="+encodeURIComponent(refinedTerm)}});m.description=m.ingredientString}m.flavors=sortAndFormatFlavors(item.flavors);return m};var sortAndFormatFlavors=function(flavors){if(!flavors){return null}var sparse=[];for(var key in flavors){var strength=flavors[key];if(strength){if(key==="piquant"){key="spicy"}if(key==="meaty"){key="savory"}sparse.push({name:key,url:"/?q="+key+"+"+query_encoded.replace(/ /g,"+"),strength:Math.round(strength*100)})}}if(!sparse.length){return null}return sparse.sort(function(a,b){return a.strength>b.strength?-1:1})};var searchContainedRecipe=!!query_encoded.match(/recipe/i),searchTerm=query.replace(/recipes|recipe/i,"").trim(),moreUrl=res.attribution.url+"?q="+searchTerm+"&prm-v1";Spice.add({id:"recipes",name:"Recipes",data:res.matches,trump:searchContainedRecipe,meta:{total:res.totalMatchCount,searchTerm:searchTerm,itemType:"Recipes",detailBg:"image",sourceIconUrl:DDG.get_asset_path("recipes","yummly.com.html"),sourceUrl:moreUrl,sourceName:"Yummly"},normalize:normalize,sort_fields:{rating:function(a,b){return a.rating>b.rating?-1:1}},sort_default:"rating",templates:{group:"products_simple",item_detail:Spice.recipes.recipes_item_detail,options:{brand:true,rating:true,buy:Spice.recipes.recipes_view_full,subtitle_content:Spice.recipes.recipes_subtitle,description_content:Spice.recipes.recipes_ingredients}}})}})(this);